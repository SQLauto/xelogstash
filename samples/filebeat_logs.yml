# Sample filebeat.yml file to import xewriter logs
#
#   TO DO 
#   -----
#   1. Set the path to the log files
#   2. Set the index in the fields.kind field
#   3. Set the Elastic destination.  Either set the cloud.id and cloud.auth
#      or set the output.elasticsearch information
#    

filebeat.inputs:
# This same of for xewriter logs
- type: log
  enabled: true
  paths:
    # Update the path to your location
    C:\apps\xewriter\xewriter*.log

  fields.kind: "xewriter"
  json.keys_under_root: true
  json.add_error_key: true
  json.overwrite_keys: true
  json.message_key: msg

#============================= Filebeat modules ===============================

filebeat.config.modules:
  path: ${path.config}/modules.d/*.yml
  reload.enabled: false

setup.ilm.enabled: false
setup.template.enabled: false

#================================ General =====================================

# Optional fields that you can specify to add additional information to the
# output.
# fields:
#   env: staging


#============================== Kibana =====================================
# These settings simplify using Filebeat with the Elastic Cloud (https://cloud.elastic.co/).
#cloud.id: "___:cloud_id"

# The cloud.auth setting overwrites the `output.elasticsearch.username` and
# `output.elasticsearch.password` settings. The format is `<user>:<pass>`.
#cloud.auth: "user:password"

#================================ Outputs =====================================

# Configure what output to use when sending the data collected by the beat.

#-------------------------- Elasticsearch output ------------------------------
output.elasticsearch:
  index: "%{[fields.kind]}"
#   # Array of hosts to connect to.
#   hosts: [""]

#   # Optional protocol and basic auth credentials.
#   protocol: "https"
#   username: ""
#   password: ""

#================================ Processors =====================================

# Configure processors to enhance or manipulate events generated by the beat.

processors:
  - timestamp:
      field: time
      layouts:
        - '2006-01-02T15:04:05-07:00'
        - '2006-01-02T15:04:05.999999999-07:00'
      test:
        - '2019-12-08T13:05:03-06:00'
        - '2019-12-08T13:05:03.123456789-06:00'

#================================ Logging =====================================

# Sets log level. The default log level is info.
# Available log levels are: error, warning, info, debug
#logging.level: debug

# At debug level, you can selectively enable logging only for some components.
# To enable all selectors use ["*"]. Examples of other selectors are "beat",
# "publish", "service".
#logging.selectors: ["*"]

